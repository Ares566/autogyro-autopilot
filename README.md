# –ê–≤—Ç–æ–ø–∏–ª–æ—Ç –∞–≤—Ç–æ–∂–∏—Ä–∞ –Ω–∞ Rust

[![Rust](https://img.shields.io/badge/rust-1.75%2B-orange.svg)](https://www.rust-lang.org)
[![Embassy](https://img.shields.io/badge/embassy-0.4.0-blue.svg)](https://embassy.dev)
[![Platform](https://img.shields.io/badge/platform-RP2040-green.svg)](https://www.raspberrypi.com/products/rp2040/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

–ê–≤—Ç–æ–ø–∏–ª–æ—Ç –¥–ª—è –∞–≤—Ç–æ–∂–∏—Ä–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ —è–∑—ã–∫–µ Rust –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ Raspberry Pi Pico (RP2040) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ embedded —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Embassy.

## üöÅ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–æ–ª–µ—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–∑–ª–µ—Ç –∏ –ø–æ—Å–∞–¥–∫–∞
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å Embassy
- **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è —Ç–æ—á–Ω–æ–π —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∞–≤–∞—Ä–∏–π
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥
- **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –∞–≤—Ç–æ–∂–∏—Ä–∞** - —É—á–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –∞–≤—Ç–æ—Ä–æ—Ç–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

- **–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: Raspberry Pi Pico (RP2040)
- **IMU**: MPU6050 (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä + –≥–∏—Ä–æ—Å–∫–æ–ø)
- **–ë–∞—Ä–æ–º–µ—Ç—Ä**: BMP280
- **GPS**: NEO-M8N –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π (NMEA –ø—Ä–æ—Ç–æ–∫–æ–ª)
- **ESC**: 2x —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π DShot600
- **–°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã**: 2x –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º —à–∞–≥–æ–º —Ä–æ—Ç–æ—Ä–∞
- **–ü–∏—Ç–∞–Ω–∏–µ**: 3S-4S LiPo –±–∞—Ç–∞—Ä–µ—è —Å BEC 5V

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

- Rust 1.75 –∏–ª–∏ –Ω–æ–≤–µ–µ
- probe-rs –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
- cargo-embassy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Embassy

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Rust –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
rustup target add thumbv6m-none-eabi

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏
cargo install probe-rs --features cli
cargo install cargo-embassy
```

- **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```bash
git clone https://github.com/your-username/autogyro-autopilot.git
cd autogyro-autopilot
```

- **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ –≤–∞—à–µ –∂–µ–ª–µ–∑–æ
vim src/config/hardware.rs
vim src/config/flight.rs
```

**üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

**–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**

```bash
cargo build --release
```

**–ü—Ä–æ—à–∏–≤–∫–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞**

```bash
# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º probe-rs
cargo embed --release

# –ò–ª–∏ —á–µ—Ä–µ–∑ cargo-embassy
cargo embassy flash --release
```

**–û—Ç–ª–∞–¥–∫–∞**

```bash
# –ó–∞–ø—É—Å–∫ —Å –≤—ã–≤–æ–¥–æ–º –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
cargo embed --release --log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ RTT –ª–æ–≥–æ–≤
probe-rs rtt --chip RP2040
```

**üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

```
autogyro-autopilot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.rs              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hardware.rs      # –ü–∏–Ω—ã, —á–∞—Å—Ç–æ—Ç—ã, –∞–¥—Ä–µ—Å–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ flight.rs        # PID –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ drivers/             # –î—Ä–∞–π–≤–µ—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ imu/            # MPU6050
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ baro/           # BMP280
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gps/            # NMEA –ø–∞—Ä—Å–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ actuators/      # DShot, PWM
‚îÇ   ‚îú‚îÄ‚îÄ control/             # –ê–ª–≥–æ—Ä–∏—Ç–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attitude.rs      # –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ altitude.rs      # –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ã—Å–æ—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fuzzy.rs         # Fuzzy –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ flight/              # –†–µ–∂–∏–º—ã –ø–æ–ª–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ takeoff.rs       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–∑–ª–µ—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ landing.rs       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Å–∞–¥–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ tasks/               # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
‚îÇ       ‚îú‚îÄ‚îÄ sensor_task.rs   # –û–ø—Ä–æ—Å –¥–∞—Ç—á–∏–∫–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ control_task.rs  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ       ‚îî‚îÄ‚îÄ actuator_task.rs # –ú–æ—Ç–æ—Ä—ã –∏ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã
‚îú‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ memory.x
‚îî‚îÄ‚îÄ README.md
```

**‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–æ–≤ (src/config/hardware.rs)**

```rust
pub mod pins {
    pub mod i2c {
        pub const SDA_PIN: u8 = 4;  // GPIO4
        pub const SCL_PIN: u8 = 5;  // GPIO5
    }
    pub mod servos {
        pub const PITCH_PIN: u8 = 10; // GPIO10
        pub const ROLL_PIN: u8 = 11;  // GPIO11
    }
    // ...
}
```

**üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞**

- **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ IMU:**
    - –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–∂–∏—Ä –Ω–∞ —Ä–æ–≤–Ω—É—é –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
    - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–µ–∂–∏–º –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é
    - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–æ–∫–æ–ª–æ 10 —Å–µ–∫—É–Ω–¥)

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–≥–ª–æ–≤
    - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
    - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–≤–∞—Ä–∏–π–Ω—ã–µ —Ä–µ–∂–∏–º—ã

**üìä –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è**

–ê–≤—Ç–æ–ø–∏–ª–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ UART (115200 –±–æ–¥):

- –£–≥–ª—ã –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (–∫—Ä–µ–Ω, —Ç–∞–Ω–≥–∞–∂, —Ä—ã—Å–∫–∞–Ω–∏–µ)
- –í—ã—Å–æ—Ç–∞ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –ø—É—Ç–µ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–µ–∂–∏–º –ø–æ–ª–µ—Ç–∞
- –£—Ä–æ–≤–µ–Ω—å –±–∞—Ç–∞—Ä–µ–∏ (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –¥–∞—Ç—á–∏–∫)

**üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–≥–ª–æ–≤** - –º–∞–∫—Å–∏–º—É–º 30¬∞ –∫—Ä–µ–Ω, 25¬∞ —Ç–∞–Ω–≥–∞–∂
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç—á–∏–∫–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∞–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∞–Ω–µ–≤—Ä—ã —Ç–æ–ª—å–∫–æ –≤—ã—à–µ 5–º
- **Failsafe** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Å–∞–¥–∫–∞ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏
- **–ì–µ–æ–∑–æ–Ω–∞** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –æ—Ç —Ç–æ—á–∫–∏ –≤–∑–ª–µ—Ç–∞

**ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç**

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ —É–ª—É—á—à–µ–Ω–∏—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

- –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

**üìù –õ–∏—Ü–µ–Ω–∑–∏—è**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

**‚ö†Ô∏è –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**

–≠—Ç–æ—Ç –∞–≤—Ç–æ–ø–∏–ª–æ—Ç —è–≤–ª—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ—Ç–∞—Ö –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤–∞—à —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.
–í—Å–µ–≥–¥–∞ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –º–µ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ë–ü–õ–ê.

**üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏**

- https://embassy.dev - –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–π async embedded —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- https://probe.rs - –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏
- –°–æ–æ–±—â–µ—Å—Ç–≤–æ Rust Embedded - –∑–∞ –ø–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É

**üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã**

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Issues –Ω–∞ GitHub.

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–æ–ª–µ—Ç–æ–≤!** üöÅ‚ú®



